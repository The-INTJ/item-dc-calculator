@use './index' as *;

.contest-bracket {
  @include container-parent;
  display: grid;
  gap: $space-gap-loose;
}

.contest-bracket__mobile {
  display: grid;
  gap: $space-lg;
}

.contest-bracket__hint {
  @include type-base;
  margin: 0;
  opacity: 0.75;
}

.contest-bracket__round-strip {
  @include scroll-snap-x;
  display: flex;
  gap: $space-gap-normal;
  padding-bottom: $space-base;
}

.contest-bracket__round {
  @include scroll-snap-item;
}

.contest-bracket__desktop {
  display: none;
}

.contest-bracket__grid {
  display: grid;
  gap: $space-gap-loose;
  grid-auto-columns: minmax(220px, 1fr);
  grid-auto-flow: column;
  overflow-x: auto;
  padding-bottom: $space-base;
}

.contest-bracket__round-card {
  display: flex;
  flex-direction: column;
  gap: $space-lg;
}

.contest-bracket__round-header {
  align-items: center;
  display: flex;
  gap: $space-lg;
  justify-content: space-between;
}

.contest-bracket__round-title {
  @include type-xl;
  margin: 0;
}

.contest-bracket__round-status {
  @include type-label;
}

.contest-bracket__matchups {
  display: grid;
  gap: $space-lg;
}

.contest-matchup-card {
  display: grid;
  gap: $space-base;
  text-align: left;
}

.contest-matchup-card__team {
  align-items: center;
  display: flex;
  gap: $space-lg;
  justify-content: space-between;
}

.contest-matchup-card__name {
  margin: 0;
}

.contest-matchup-card__score {
  font-weight: $font-weight-semibold;
}

.contest-matchup-card__team--winner {
  font-weight: $font-weight-bold;
}

.contest-matchup-card__team--winner .contest-matchup-card__name {
  text-decoration: underline;
}

.contest-matchup-card__badge {
  @include type-label;
}

.contest-bracket__round-card--clickable {
  cursor: pointer;
  transition: transform $transition-fast, box-shadow $transition-base;

  &:hover,
  &:focus-visible {
    transform: translateY(-2px);
    outline: 2px solid currentColor;
    outline-offset: 2px;
  }
}

// Container queries for responsive behavior
@include container('sm') {
  .contest-bracket__round {
    flex-basis: 80%;
  }
}

@include container('lg') {
  .contest-bracket__mobile {
    display: none;
  }

  .contest-bracket__desktop {
    display: block;
  }
}
